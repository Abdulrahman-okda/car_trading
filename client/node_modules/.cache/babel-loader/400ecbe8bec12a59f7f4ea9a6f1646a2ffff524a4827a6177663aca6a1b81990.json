{"ast":null,"code":"var _jsxFileName = \"B:\\\\\\u0628\\u0631\\u0645\\u062C\\u0647\\\\porjest\\\\car\\\\client\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Api = ({\n  brand,\n  model\n}) => {\n  _s();\n  const [cars, setCars] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    // إذا لم يُدخل المستخدم شي، نعرض كل السيارات\n    const query = new URLSearchParams();\n    if (brand) query.append(\"brand\", brand);\n    if (model) query.append(\"model\", model);\n    const fetchCars = async () => {\n      setLoading(true);\n      setError(\"\");\n      try {\n        const res = await fetch(`http://localhost:5000/api/cars?${query.toString()}`);\n        if (!res.ok) throw new Error(\"فشل في جلب البيانات\");\n        const data = await res.json();\n        setCars(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchCars();\n  }, [brand, model]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center\",\n    children: \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center text-danger\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 21\n  }, this);\n  if (cars.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center\",\n    children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0646\\u062A\\u0627\\u0626\\u062C\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 33\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: cars.map(car => {\n        var _car$images, _car$images$;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card h-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: ((_car$images = car.images) === null || _car$images === void 0 ? void 0 : (_car$images$ = _car$images[0]) === null || _car$images$ === void 0 ? void 0 : _car$images$.image_url) || \"https://via.placeholder.com/300\",\n              className: \"card-img-top\",\n              alt: car.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                children: car.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Brand:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 19\n                }, this), \" \", car.brand, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 54\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Model:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 19\n                }, this), \" \", car.model, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 54\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 19\n                }, this), \" \", car.price, \" \\u062C\\u0646\\u064A\\u0647\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `/shop/${car.id}`,\n                className: \"btn btn-outline-primary\",\n                children: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)\n        }, car.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Api, \"1OC+TPe+9LcOXygvavEIkaUn7cQ=\");\n_c = Api;\nexport default Api;\nvar _c;\n$RefreshReg$(_c, \"Api\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Api","brand","model","_s","cars","setCars","loading","setLoading","error","setError","query","URLSearchParams","append","fetchCars","res","fetch","toString","ok","Error","data","json","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","car","_car$images","_car$images$","src","images","image_url","alt","name","price","href","id","_c","$RefreshReg$"],"sources":["B:/برمجه/porjest/car/client/src/pages/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst Api = ({ brand, model }) => {\r\n  const [cars, setCars] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // إذا لم يُدخل المستخدم شي، نعرض كل السيارات\r\n    const query = new URLSearchParams();\r\n    if (brand) query.append(\"brand\", brand);\r\n    if (model) query.append(\"model\", model);\r\n\r\n    const fetchCars = async () => {\r\n      setLoading(true);\r\n      setError(\"\");\r\n      try {\r\n        const res = await fetch(`http://localhost:5000/api/cars?${query.toString()}`);\r\n        if (!res.ok) throw new Error(\"فشل في جلب البيانات\");\r\n        const data = await res.json();\r\n        setCars(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCars();\r\n  }, [brand, model]);\r\n\r\n  if (loading) return <p className=\"text-center\">جاري التحميل...</p>;\r\n  if (error) return <p className=\"text-center text-danger\">{error}</p>;\r\n  if (cars.length === 0) return <p className=\"text-center\">لا توجد نتائج</p>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        {cars.map((car) => (\r\n          <div key={car.id} className=\"col-md-4 mb-4\">\r\n            <div className=\"card h-100\">\r\n              <img\r\n                src={car.images?.[0]?.image_url || \"https://via.placeholder.com/300\"}\r\n                className=\"card-img-top\"\r\n                alt={car.name}\r\n              />\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{car.name}</h5>\r\n                <p className=\"card-text\">\r\n                  <strong>Brand:</strong> {car.brand}<br />\r\n                  <strong>Model:</strong> {car.model}<br />\r\n                  <strong>Price:</strong> {car.price} جنيه\r\n                </p>\r\n                <a href={`/shop/${car.id}`} className=\"btn btn-outline-primary\">\r\n                  عرض التفاصيل\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}